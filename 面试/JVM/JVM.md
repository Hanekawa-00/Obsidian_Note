# 内存区域划分
## 堆内存
	用于存储应用程序创建的实例对象
1. 所有线程共享
2. JVM启动时创建堆
3. 是GC垃圾回收器主要管理区域，当对象不再被引用时会被垃圾回收器回收
## 非堆内存
1. 方法区/类方法区（==用来存储已经加载的类信息结构，如类结构、运行时常量池、字段和方法数据、方法代码等==）
	1. 所有线程共享
	2. Java8之后被元空间取代，==因为在Java8之前方法区在jvm中的实现是永久代，内存大小固定，在加载大量对象或者动态生成大量对象时容易发生OOM==，因此Java8使用的元空间不再在JVM中分配内存，而是使用本地内存
	3. 逻辑上是堆，但是为了区分，通常被划分为“非堆”
2. 程序计数器 PC（==记录当前线程执行的字节码指令地址（指针）==）
	1. 线程私有
	2. JVM通过程序计数器来选取下一条需要执行的字节码指令
3. 虚拟机栈（==每个线程创建时都会创建一个虚拟机栈，用来存储栈帧==）
	1. 线程私有
	2. 一个方法从调用到执行完成，对应着一个栈帧在虚拟机栈中的入栈到出栈的过程
	3. 栈帧中存储着被调用的方法所执行的数据结构，包括局部变量表、操作数栈等等
4. 本地方法栈（与虚拟机栈类似）
	1. 线程私有
	2. JVM执行`Native`方法时使用